 <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Discount Button</title>
<link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
<style>
html, body {
 /*    background: #1f1d21;
 font-family: 'Montserrat', sans-serif; */
}

/* Button Styles */
.boton {
    width: 200px;
    height: 50px;
margin: 30px auto; 
    display: block;
    position: relative;
}

.botontext {
    position: absolute;
    height: 100%;
    width: 100%;
    z-index: 1;
    text-align: center;
    line-height: 50px;
    font-size: 12px;
    text-transform: uppercase;
}

.twist {
    display: block;
    height: 100%;
    width: 25%;
    position: relative;
    float: left;
    margin-left: -4px;
}

.twist:before {
    content: "";
    width: 100%;
    height: 100%;
    background: #fed5a9;
    bottom: 100%;
    position: absolute;
    transform-origin: center bottom 0px; 
    transform: matrix3d(1, 0, 0, 0, 
                        0, 0, -1, -0.003, 
                        0, 1, 0, 0, 
                        0, 0, 0, 1);
    
    transition: all 500ms cubic-bezier(0.970, 0.000, 0.395, 0.995); 
}

.twist:after {
    content: "";
    position: absolute;
    width: 100%;
    top: 100%;
    height: 100%;
    background: #9f7f5e;
    transform-origin: center top 0px;
    transform: matrix3d(1, 0, 0, 0, 
                        0, 1, 0, 0, 
                        0, 0, 1, -0.003, 
                        0, -50, 0, 1);
    
    transition: all 500ms cubic-bezier(0.970, 0.000, 0.395, 0.995); 
}

.boton:hover .twist:before {
    background: #fff;
    transform: matrix3d(1, 0, 0, 0, 
                        0, 1, 0, 0, 
                        0, 0, 1, 0.003, 
                        0, 50, 0, 1);
}

.boton:hover .twist:after {
    background: #dedae1;
    transform: matrix3d(1, 0, 0, 0, 
                        0, 0, -1, 0.003, 
                        0, 1, 0, 0, 
                        0, 0, 0, 1);
}

.boton .twist:nth-of-type(1) {
    margin-left: 0;
}

.boton .twist:nth-of-type(1):before,
.boton .twist:nth-of-type(1):after {
    transition-delay: 0s;
}

.boton .twist:nth-of-type(2):before,
.boton .twist:nth-of-type(2):after {
    transition-delay: 0.1s;
}

.boton .twist:nth-of-type(3):before,
.boton .twist:nth-of-type(3):after {
    transition-delay: 0.2s;
}

.boton .twist:nth-of-type(4):before,
.boton .twist:nth-of-type(4):after {
    transition-delay: 0.3s;
}

.boton .botontext:nth-of-type(1) {
    color: #3d3b40;
    bottom: 100%;
    transform-origin: center bottom 0px; 
    transform: matrix3d(1, 0, 0, 0, 
                        0, 0, -1, -0.003, 
                        0, 1, 0, 0, 
                        0, 0, 0, 1);
    
    transition: all 500ms cubic-bezier(0.970, 0.000, 0.395, 0.995); 
}

.boton:hover .botontext:nth-of-type(1) {
    transform: matrix3d(1, 0, 0, 0, 
                        0, 1, 0, 0, 
                        0, 0, 1, 0.003, 
                        0, 50, 0, 1);
}

.boton .botontext:nth-of-type(2) {
    color: #fff;
    top: 100%;
    transform-origin: center top 0px;
    transform: matrix3d(1, 0, 0, 0, 
                        0, 1, 0, 0, 
                        0, 0, 1, -0.003, 
                        0, -50, 0, 1);
    
    transition: all 500ms cubic-bezier(0.970, 0.000, 0.395, 0.995); 
}

.boton:hover .botontext:nth-of-type(2) {
    transform: matrix3d(1, 0, 0, 0, 
                        0, 0, -1, 0.003, 
                        0, 1, 0, 0, 
                        0, 0, 0, 1);
}

/* Modal CSS */
#myModal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
    background-color: #fefefe;
    margin: 10% auto;
    padding: 20px;
    border: 1px solid #888;
    /* width: 80%; */
    max-width: 600px; /* Set max-width */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

/* Calculator Styles */
.calculator {
    max-width: 800px;
    margin: 50px auto;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    border-radius: 8px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
}

.calculator h2 {
    text-align: center;
    color: #333;
    width: 100%;
}

.input-group {
    margin-bottom: 20px;
}

.input-group label {
    display: block;
    margin-bottom: 5px;
    color: #4a4a4a;
    font-weight: bold;
}

.input-group input,
.input-group select,
.input-group textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    transition: border-color 0.3s ease;
    background-color: #f9f9f9;
    color: #4a4a4a;
}

.input-group input[type="text"]:focus,
.input-group select:focus,
.input-group textarea:focus {
    border-color: #ffa500;
    outline: none;
}

.input-group textarea::placeholder {
    color: #999;
}

.error-message {
    color: red;
    font-size: 0.9em;
    margin-top: 5px;
}

button {
    display: block;
    width: 100%;
    padding: 10px;
    background-color: #ffa500;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #ff7c00;
}

#result {
    margin-top: 20px;
    border-top: 1px solid #ccc;
    padding-top: 20px;
    font-weight: bold;
    font-size: 1.2em;
}

#window2,
#window3 {
    width: calc(48% - 10px);
}

#window2 {
    order: -1;
}

#window3 {
    order: 1;
    display: none;
}
</style>
</head>
<body>

<a href="#" class="boton" id="mainButton">
        Check Price & You'll be Happy >    
</a>

<!-- Modal -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeButton">&times;</span>
    <div class="calculator">
      <div id="window2" class="window">
        <h3>Simple Moving - Сalculator Online</h3>
        <div class="input-group">
          <label for="distanceType">Distance Type:</label>
          <select id="distanceType" name="distanceType" class="form-control">
            <option value="50">&lt;50 miles</option>
            <option value="250">250 miles</option>
            <option value="1000">1000 miles+</option>
            <option value="2500">2500 miles-</option>
          </select>
        </div>
        <div class="input-group">
          <label for="cargoType">Cargo Type:</label>
          <select id="cargoType" name="cargoType" class="form-control">
            <option value="1br">1 Bedroom</option>
            <option value="2-3br">2-3 Bedroom</option>
            <option value="4-5br">4-5 Bedroom</option>
          </select>
        </div>
        <button onclick="calculateCostWindow2()" class="btn btn-warning">Calculate</button>
        <div id="costOfTransportation"></div>
      </div>
      
      <div id="window3" class="window">
        <h3>Ready to get started?</h3>
        <p>Get in touch with our mortgage advisors for personalized advice!</p>
        <div class="input-group">
          <label for="movingFrom">Moving from:</label>
          <input type="text" id="movingFrom" name="movingFrom" placeholder="Current location" autocomplete="address-level2" class="form-control">
        </div>
        <div class="input-group">
          <label for="movingTo">Moving to:</label>
          <input type="text" id="movingTo" name="movingTo" placeholder="New location" autocomplete="address-level2" class="form-control">
        </div>
        <div class="input-group">
          <label for="movingDate">Moving Date:</label>
          <input type="date" id="movingDate" name="movingDate" class="form-control">
        </div>
        <div class="input-group">
          <label for="pickupTime">Pickup Time:</label>
          <input type="time" id="pickupTime" name="pickupTime" class="form-control">
        </div>
        <div class="input-group">
          <label for="name">Enter your name:</label>
          <input type="text" id="name" name="name" class="form-control">
        </div>
        <div class="input-group">
          <label for="comment">Your comment:</label>
          <textarea id="comment" name="comment" maxlength="500" placeholder="Enter your comments here. Your specifications or any important details about the move that we should know." class="form-control"></textarea>
          <span class="error-message" id="commentError"></span>
        </div>
        <div id="calculationResult"></div>
        <button onclick="sendToWhatsApp()" class="btn btn-warning">Send to WhatsApp</button>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<script>
$(window).ready(function(){
    $(".boton").wrapInner('<div class=botontext></div>');
    $(".botontext").clone().appendTo( $(".boton") );
    $(".boton").append('<span class="twist"></span><span class="twist"></span><span class="twist"></span><span class="twist"></span>');
    $(".twist").css("width", "25%").css("width", "+=3px");
    
    // Modal functionality
    var modal = document.getElementById("myModal");
    var btn = document.getElementById("mainButton");
    var span = document.getElementById("closeButton");

    btn.onclick = function() {
        modal.style.display = "block";
    }

    span.onclick = function() {
        modal.style.display = "none";
    }

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
});

function calculateCostWindow2() {
  var distanceType = parseFloat(document.getElementById('distanceType').value);
  var cargoType = document.getElementById('cargoType').value;
  var result = '';
  
  if (distanceType && cargoType) {
    document.getElementById('window3').style.display = "block";
  }

  if (distanceType === 50) {
    switch (cargoType) {
      case '1br':
        result = '$401-$612';
        break;
      case '2-3br':
        result = '$750-$3,203';
        break;
      case '4-5br':
        result = '$1,230-$6,555';
        break;
    }
  } else if (distanceType === 250) {
    switch (cargoType) {
      case '1br':
        result = '$920-$2,700';
        break;
      case '2-3br':
        result = '$1,900-$4,815';
        break;
      case '4-5br':
        result = '$2,750-$9,700';
        break;
    }
  } else if (distanceType === 1000) {
    switch (cargoType) {
      case '1br':
        result = '$1,900-$3,925';
        break;
      case '2-3br':
        result = '$3,320-$9,800';
        break;
      case '4-5br':
        result = '$4,950-$15,100';
        break;
    }
  } else if (distanceType === 2500) {
    switch (cargoType) {
      case '1br':
        result = '$2,900-$5,800';
        break;
      case '2-3br':
        result = '$4,410-$12,700';
        break;
      case '4-5br':
        result = '$8,400-$17,800';
        break;
    }
  }
  
  document.getElementById('calculationResult').textContent = "Send this price to our manager to confirm the order " + result;
  
  document.getElementById('costOfTransportation').textContent ="Approximate price according to your request " + result;
}

function sendToWhatsApp() {
  var cargoType = document.getElementById('cargoType').value;
  var name = document.getElementById('name').value;
  var movingDate = document.getElementById('movingDate').value;
var distanceType = document.getElementById('distanceType').value;
var pickupTime = document.getElementById('pickupTime').value;
  var comment = document.getElementById('comment').value;
  var movingFrom = document.getElementById('movingFrom').value;
  var movingTo = document.getElementById('movingTo').value;
  var calculationResult = document.getElementById('costOfTransportation').textContent;
  var message = "cargoType: " + cargoType + "%0A" + "distanceType: " + distanceType + "%0A" + "movingDate: " + movingDate + "%0A" + "pickupTime: " + pickupTime + "%0A" + "Name: " + name + "%0A" + "Comment: " + comment + "%0A" + "Moving From: " + movingFrom + "%0A" + "Moving To: " + movingTo + "%0A" + "Calculation Result: " + calculationResult;
  var whatsappURL = "https://api.whatsapp.com/send?phone=17189161638&text=" + message;
  window.open(whatsappURL, '_blank');
}
</script>
